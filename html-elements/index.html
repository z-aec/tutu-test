<!DOCTYPE html>
<html>
<head>
    <title>Тестовое задание</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="UTF-8">
</head>
<body>
    <div class="content">
        <h1>Рейтинг</h1>
        <p>Сам рейтинг выполнен на чистом css без какого-либо JavaScript-кода.</p>
        <p>Чем удобен такой подход? Тем, что даже если пользователь по каким-то причинам отключил исполнение JavaScript (или, например, использует текстовый браузер наподобие Links), он может не только видеть, но и выставлять рейтинг (при должной организации формы). Более того, рейтинг по своей сути является элементом формы <code>input[type="radio"]</code>, что делает его обработку сервером простой задачей.</p>
        <h2>Какие были идеи при разработке</h2>
        <p>Для начала хотелось бы определиться, как рисовать "звёздочки". Это можно сделать обычной картинкой (хоть png, хоть svg), нарисовать звёздочку средстваи css или воспользоваться уже готовым символом в шрифте. Последний вариант оказался наиболее простым и удобным: в таблице символов имеются даже две звёздочки - закрашенная и незакрашенная. Будем использовать оба этих символа.</p>
        <p>К чему сводится выставление рейтинга? На самом деле - это выбор оценки из предлагаемого списка, который можно в простейшем случае реализовать посредством <code>select</code> или <code>input[type="radio"]</code>. Удобнее всего взять последний вариант.</p>
        <p>Теперь остаётся "перекрасить" кружочки в звёздочки, а также сделать так, чтобы предыдущие звёздочки были бы закрашены при выборе нужной нам. Заменить кружочки на звёздочки довольно несложно (за счёт свойства <code>label</code> выбирать необходимый пункт), а вот заполнять предыдущие задача посложнее. Дело в том, что даже в css 3 нет возможности влиять на предыдущие элементы. Зато можно влиять на следующие! Поэтому перевернём рейтинг наоборот и воспользуемся этим свойством. Результат можно глянуть в коде</p>
        <p>Последний штрих - выделять звёздочки при наведении курсора. В принципе, это делается аналогично с предыдущим абзацем.</p>
        <h2>Результат</h2>
        <div style="font-size: 20px;" class="rating">
            <input type="radio" name="rating" value=5 class="rating-star" id="mark5"><label for="mark5"></label>
            <input type="radio" name="rating" value=4 class="rating-star" id="mark4" checked><label for="mark4"></label>
            <input type="radio" name="rating" value=3 class="rating-star" id="mark3"><label for="mark3"></label>
            <input type="radio" name="rating" value=2 class="rating-star" id="mark2"><label for="mark2"></label>
            <input type="radio" name="rating" value=1 class="rating-star" id="mark1"><label for="mark1"></label>
        </div>
        <hr>
        <h1>Progress bar</h1>
        <p>Простейший progress-bar без всяких излишеств</p>
        <h2>Какие были идеи при разработке</h2>
        <p>В задании настоятельно просят реализовать progress-bar на html5. Собственно, он там уже реализован, осталось лишь только навести красоту, чтобы на всех ОС он отображался примерно одинаково. И набросать на него текст с процентами.</p>
        <h2>Результат</h2>
        <div class="progress-container">
            <div class="progress">
                <progress value="50" max="100"></progress>
                <span class="progress-value"><span class="progress-num-value">50</span>%</span>
            </div>
        </div>
        <hr>
        <h1>Кнопка</h1>
        <p>Много разных кнопок на любой элемент, размер и цвет.</p>
        <h2>Какие были идеи при разработке</h2>
        <p>В задании требовалось, чтобы кнопка подходила к трём разным элементам: <code>a</code>, <code>input[type=button]</code>, <code>div</code>. Это вполне логично, иногда кнопка бывает элементом формы, по которой бывает её submit, иногда же это красивая ссылка, по которой срабатывает JS-обработчик и т.д. В принципе, создать единый стиль для элементов было несложно, как и разные варианты оформления кнопок.</p>
        <h2>Результат</h2>
        <a class="btn" href="#">Кнопка-ссылка</a>
        <input type="button" class="btn" value="Кнопка-input">
        <div class="btn">Кнопка-div</div>
        <br><br>
        <a class="btn btn-small" href="#">Маленькая кнопка</a>
        <a class="btn btn-middle" href="#">Небольшая кнопка</a>
        <a class="btn btn-white" href="#">Обычная белая кнопка</a>
        <a class="btn btn-large" href="#">Большая кнопка</a>
        <a class="btn btn-large btn-red" href="#">Большая красная кнопка</a>
        <hr>
        <h1>Форма</h1>
        <p>Простенькая форма на блочной вёрстке с адаптивным дизайном. Находится <a href="../html-page/index.html" target="_blank">здесь</a>.</p>
        <p>Для адаптивности формы учитываем ширину браузера. При ширине меньше 800px считаем устройство смартфоном. Меню становится вертикальным, и отступы между пунктами увеличиваются, чтобы по ним было удобнее попасть. Вся форма также выстраивается в одну вертикальную колонку. Для ширины от 800 до 1024px используется суженная версия меню и прогресса формы, а также двухколоночная форма.</p>
        <p>Переключатели для фамилии и пола, как и рейтинг из предыдущего задания, сделаны на чистом css на основе <code>input[type=radio]</code></p>
        <hr>
        <h1>JavaScript функция dscount</h1>
        <p>Самая простая и очевидная реализация функции: пройтись один раз в цикле по символом, сравнивая их с необходимыми. Реализация находится <a href="../js-function/index.html" target="_blank">здесь</a>.</p>
        <p>Поведение функции на входных данных вида <code>dscount('aaa', 'a', 'a')</code> не описывается в тестах, однако логично предположить, что символ посередине может быть как концом первой пары, так и началом второй, поэтому ответ &mdash; 2.</p>
        <hr>
        <h1>JavaScript таблица с сортировкой</h1>
        <p>Поскольку это задание на программирование, а не на вёрстку, то дизайн страницы будет минималистичным. Также позаимствуем кнопки из первого задания на вёрстку. Реализация находится <a href="../js-sort/index.html" target="_blank">здесь</a>.</p>
        <p>Для работы будем использовать фреймворк jQuery. Данный фреймворк заметно упростит работу по загрузке данных, которую пришлось бы проделать на чистом JS. Также немаловажно наличие удобных селекторов DOM, ведь на чистом JS методы вида <code>document.getElementsByClassName[0]</code> требуют длинной записи. При использовании jQuery можно быть уверенным в кроссбраузерности его методов</p>
        <p>Стоит, однако, заметить, что работа в старых браузерах, где не определены методы функциональной парадигмы программирования (map, reduce, filter) для массивов, не гарантируется. Впрочем, в них эти функции можно доопределить вручную, что выходит уже за рамки данной задачи.</p>
        <hr>
        <h1>Дополнительные вопросы</h1>
        <h2>Как можно создать эффект blur на изображении во всех основных браузерах?</h2>
        <p>Вариантов может быть несколько. Самый простой и уж точно совместимый &mdash; хранить уже размытое изображение на сервере. Но если нам потребуется хранить разные степени размытия? А ещё лучше, если таких картинок для размытия будут сотни тысяч? Ясно, что дисковое пространство будет забиваться очень быстро. Или же, если для каждого изображения генерированить размытие на backend-стороне (например, свёртка <code>imageconvolution</code> для php), то будет забиваться уже оперативная память, что не очень хорошо для высокой посещаемости сайта. Тем не менее, именно этот способ стоит использовать, если пользователь не должен иметь оригинального изображения по умолчанию. Например, так размывают фотографии на сайтах знакомств или на продающих изображения. Таким образом можно немного размыть preview, чтобы пользователь мог видеть какие-либо очертания, но при этом для того, чтобы увидеть всё, ему необходимо было бы заплатить.</p>
        <p>Хотелось бы как-то генерировать такой эффект на клиенте. По запросу довольно быстро гуглится <a href="http://zurb.com/playground/image-blur-texture" target="_blank">страничка</a>, где описываются два способа это сделать. Первый способ основан на фильтрах css, добавленным в стандарт не так давно. Заявляется, что работа будет гарантироваться только в новых браузерах на основе webkit. Впрочем, на <a href="https://wp-lessons.com/krossbrauzernyiy-effekt-razmyitiya-blur-izobrazheniya-v-css" target="_blank">другом ресурсе</a>, уже русскоязычном, утверждается, что данный способ можно сделать более-менее кроссбраузерным за счёт svg и костылей для IE. Тем не менее, добиться для IE11 на практике данного эффекта не получилось, зато в Chrome и Firefox всё работает. И даже работает в Microsoft Edge, который приходит на замену IE. Плюсы "чистого css" довольно очевидны: даже при отключённом js всё будет работать, избегаем лишнего кода. <b>Я бы выбрал именно этот способ, если бы речь шла о поддержке эффекта в браузерах в ближайшем будущем.</b> В перспективе будет достаточно указать лишь <code>filter: blur(3px);</code> одной строкой, чтобы всё работало в актуальных браузерах.</p>
        <center><img src="1051.jpg" class="blur"><br><i>Эффект blur при наведении указателя мыши на картинку</i></center>
        <p>И рассмотрим ещё второй способ, предлагаемый на англоязычном сайте. Он использует Canvas и, как следствие, имеет JS-код. Заявляется более широкая поддержка старых браузеров, но взамен плодится несколько строк кода, которые, как показано выше, можно избежать. Как видим, способ неудобен и смысла его более подробно анализировать нет. Использовать его стоит лишь для того, чтобы добиться совместимости с Internet Explorer...</p>
        <hr>
        <h1>Тестирование</h1>
        <p>Теперь осталось проверить поведение страниц в разных браузерах. Для начала воспользуемся тремя браузерами: Chrome (покрывает и Opera, и Safari, так как движок у них одинаковый), IE11 и Firefox. После небольшой корректировки кнопки (проблема в Firefox с разной высотой для ссылки и input устраняется "костылём") и прогресс-бара (разный рендеринг высоты у Chrome и остальных браузеров) элементы в них выглядят примерно одинаково с точностью до рендеринга шрифтов и т.д. Для полного тестирования воспользуемся сервисом <a href="https://crossbrowsertesting.com" target="_blank">https://crossbrowsertesting.com</a>. Там имеется триальная верися на 7 дней и 60 минут, что для тестов нам хватит. Html-страницы были загружены на хостинг, и тестирование проведено. По результатам тестирования можно сказать, что в современных версиях браузеров страница ведёт себя корректно. Имеются незначительные недоработки для более старых браузеров: так, в Opera 12 у полосы в прогресс-баре другой цвет и высоты у кнопки-кнопки и кнопки-ссылки различаются на пару пискелей. В IE9 полоса прогресс-бара не отображается, имеется лишь процентное значение. Тем не менее, дальнейшая оптимизация подобных мелочей под устаревшие браузеры не имеет смысла, зато имеет смысл предложить пользователям обновить браузер до актуальной версии. Страница с формой ведёт себя корректно во всех заявленных к заданию браузерах.</p>
        <p>Тестирование JavaScript кода проводилось следующим образом. Функции без побочных эффектов проверялись тестами на соответствие выходных данных ожидаемым. Затем весь код в целом проверялся на корректную работу в современных браузеров: правильная обработка событий нажатия, правильный вывод результатов и т.д. Также проводился тест поведения в случае ошибки. Так, при эмуляции ошибки загрузки данных браузер выдавал сообщение об этом через <code>alert()</code>.</p>
        <h2>Технические характеристики</h2>
        <ul>
            <li>ОС: Windows 7</li>
            <li>Браузеры: Chrome и FireFox актуальной версии, IE11</li>
            <li>IDE: текстовый редактор Sublime Text 3</li>
        </ul>
    </div>
</body>
</html>
